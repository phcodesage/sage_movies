<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sage Movies</title>
  <link rel="stylesheet" href="css/home.css">
  <link rel="preload" href="css/home.css" as="style">
  <link rel="preload" href="js/home.js" as="script">
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            netflix: {
              red: '#e50914',
              black: '#141414',
              dark: '#181818',
              gray: '#808080'
            }
          }
        }
      }
    }
  </script>
  <script defer src="js/home.js"></script>
  <style>
    body {
      background-color: #141414;
      color: white;
      font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
    }
    .animated-poster {
      transition: transform 0.3s, box-shadow 0.3s;
    }
    .animated-poster:hover {
      transform: scale(1.08);
      z-index: 10;
      box-shadow: 0 10px 25px rgba(0,0,0,0.5);
    }
    .list {
      scrollbar-width: none;
    }
    .list::-webkit-scrollbar {
      display: none;
    }
    .navbar-scrolled {
      background-color: #141414;
      box-shadow: 0 2px 10px rgba(0,0,0,0.3);
    }
    .banner-gradient {
      background: linear-gradient(to top, rgba(20,20,20,1) 0%, rgba(20,20,20,0) 100%);
    }
  </style>
</head>

<body class="bg-netflix-black text-white min-h-screen">
  <!-- Movie Detail Fullscreen Section -->
  <section id="movie-detail" class="fixed inset-0 z-50 bg-black/95 flex flex-col items-center overflow-y-auto py-16 hidden transition-all duration-300">
    <button onclick="closeMovieDetail()" class="fixed top-5 left-5 bg-black/60 text-white rounded-full w-10 h-10 flex items-center justify-center text-2xl hover:bg-netflix-red transition"><i class="fas fa-arrow-left"></i></button>
    
    <!-- Content Container with Max Width -->
    <div class="w-full max-w-7xl px-4 md:px-8 flex flex-col">
      <!-- Title at the top -->
      <div class="w-full mb-6">
        <h2 id="detail-title" class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-extrabold leading-tight text-center md:text-left break-words"></h2>
        <div class="flex flex-wrap items-center justify-center md:justify-start gap-4 mt-3">
          <span id="detail-rating" class="text-yellow-400 font-semibold text-lg"></span>
          <span id="detail-genres" class="text-neutral-400 text-base"></span>
          <span id="detail-release" class="text-neutral-400 text-base"></span>
        </div>
      </div>
      
      <!-- Video and Poster Section -->
      <div class="flex flex-col md:flex-row gap-6 mb-8">
        <!-- Video Section - 70% Width -->
        <div class="w-full md:w-[70%] aspect-w-16 aspect-h-9 bg-black rounded-lg overflow-hidden shadow-2xl">
          <iframe id="detail-video" class="w-full h-full" src="" frameborder="0" allowfullscreen></iframe>
        </div>
        
        <!-- Poster and Server Selector - 30% Width -->
        <div class="w-full md:w-[30%] flex flex-col gap-4">
          <img id="detail-poster" src="" alt="Poster" class="w-full rounded-xl shadow-2xl" />
          
          <!-- Server Selector -->
          <div class="bg-netflix-dark p-4 rounded-lg">
            <label for="server-select" class="block text-neutral-300 mb-2 font-medium">Change Server:</label>
            <select id="server-select" onchange="changeServer()" class="w-full bg-black text-white border border-gray-700 rounded px-3 py-2 focus:outline-none focus:ring-1 focus:ring-netflix-red">
              <option value="vidsrc.cc">Vidsrc.cc</option>
              <option value="vidsrc.me">Vidsrc.me</option>
              <option value="player.videasy.net">Player.Videasy.net</option>
            </select>
          </div>
        </div>
      </div>
      
      <!-- Description Section - Full Width Below Video with Larger Text -->
      <div class="w-full bg-netflix-dark/50 p-6 rounded-lg mb-8">
        <h3 class="text-xl font-semibold mb-3 text-white/90">Overview</h3>
        <p id="detail-description" class="text-base sm:text-lg md:text-xl text-neutral-300 leading-relaxed"></p>
      </div>
    </div>
  </section>

  <!-- Netflix-style Navbar -->
  <nav class="navbar fixed top-0 left-0 right-0 z-40 flex items-center justify-between px-4 md:px-12 py-3 transition-all duration-300">
    <div class="flex items-center">
      <a href="/" class="text-netflix-red text-3xl font-bold mr-8">SAGE</a>
      <div class="hidden md:flex space-x-6">
        <a href="/" class="text-sm font-medium hover:text-gray-300">Home</a>
        <a href="#movies" class="text-sm font-medium hover:text-gray-300">Movies</a>
        <a href="#tvshows" class="text-sm font-medium hover:text-gray-300">TV Shows</a>
        <a href="#anime" class="text-sm font-medium hover:text-gray-300">Anime</a>
      </div>
    </div>
    <div class="flex items-center space-x-4">
      <div class="relative">
        <select id="genre-select" onchange="filterByGenre()" class="bg-black/50 text-white text-sm rounded-md border border-gray-700 px-3 py-1.5 focus:outline-none focus:ring-1 focus:ring-netflix-red">
          <option value="">All Genres</option>
        </select>
      </div>
      <button onclick="openSearchModal()" class="text-white hover:text-netflix-red">
        <i class="fas fa-search text-lg"></i>
      </button>
      <div class="profile-avatar" title="Profile">
        <img src="https://ui-avatars.com/api/?name=Sage&background=222&color=fff&rounded=true&size=32" alt="Profile" class="w-8 h-8 rounded-md" />
      </div>
    </div>
  </nav>

  <!-- Hero Banner -->
  <div class="banner relative h-[80vh] bg-cover bg-center" id="banner">
    <div class="absolute inset-0 banner-gradient"></div>
    <div class="absolute inset-x-0 bottom-0 px-4 md:px-16 py-10 md:py-20 z-10">
      <h1 id="banner-title" class="text-4xl md:text-6xl font-bold mb-4 max-w-2xl"></h1>
      <div class="flex flex-wrap gap-3 mt-6">
        <button class="banner-btn play bg-white text-black hover:bg-opacity-80 px-6 py-2 rounded-md flex items-center font-bold">
          <i class="fas fa-play mr-2"></i> Play
        </button>
        <button class="banner-btn info bg-gray-500/60 hover:bg-gray-600/80 text-white px-6 py-2 rounded-md flex items-center font-bold" onclick="showBannerInfo()">
          <i class="fas fa-info-circle mr-2"></i> More Info
        </button>
      </div>
    </div>
  </div>

  <!-- Content Sections -->
  <div class="px-4 md:px-12 mt-6 md:mt-12">
    <!-- Trending Movies -->
    <section id="movies" class="mb-10">
      <div class="flex items-center justify-between mb-4">
        <h2 class="text-xl md:text-2xl font-bold">Trending Movies <span id="movies-count" class="text-sm text-netflix-red font-normal"></span></h2>
      </div>
      <div class="carousel-wrapper relative">
        <button class="carousel-btn left absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-black/50 hover:bg-black/80 w-10 h-10 rounded-full flex items-center justify-center" id="movies-left-btn" aria-label="Scroll Left">
          <i class="fas fa-chevron-left text-white"></i>
        </button>
        <div class="list flex overflow-x-auto space-x-2 pb-4" id="movies-list"></div>
        <button class="carousel-btn right absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-black/50 hover:bg-black/80 w-10 h-10 rounded-full flex items-center justify-center" id="movies-right-btn" aria-label="Scroll Right">
          <i class="fas fa-chevron-right text-white"></i>
        </button>
      </div>
      <div id="no-movies-message" class="hidden text-center py-8 text-lg text-gray-400"></div>
    </section>

    <!-- TV Shows -->
    <section id="tvshows" class="mb-10">
      <h2 class="text-xl md:text-2xl font-bold mb-4">Trending TV Shows</h2>
      <div class="carousel-wrapper relative">
        <button class="carousel-btn left absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-black/50 hover:bg-black/80 w-10 h-10 rounded-full flex items-center justify-center" id="tvshows-left-btn" aria-label="Scroll Left">
          <i class="fas fa-chevron-left text-white"></i>
        </button>
        <div class="list flex overflow-x-auto space-x-2 pb-4" id="tvshows-list"></div>
        <button class="carousel-btn right absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-black/50 hover:bg-black/80 w-10 h-10 rounded-full flex items-center justify-center" id="tvshows-right-btn" aria-label="Scroll Right">
          <i class="fas fa-chevron-right text-white"></i>
        </button>
      </div>
    </section>

    <!-- Anime -->
    <section id="anime" class="mb-10">
      <h2 class="text-xl md:text-2xl font-bold mb-4">Trending Anime</h2>
      <div class="carousel-wrapper relative">
        <button class="carousel-btn left absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-black/50 hover:bg-black/80 w-10 h-10 rounded-full flex items-center justify-center" id="anime-left-btn" aria-label="Scroll Left">
          <i class="fas fa-chevron-left text-white"></i>
        </button>
        <div class="list flex overflow-x-auto space-x-2 pb-4" id="anime-list"></div>
        <button class="carousel-btn right absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-black/50 hover:bg-black/80 w-10 h-10 rounded-full flex items-center justify-center" id="anime-right-btn" aria-label="Scroll Right">
          <i class="fas fa-chevron-right text-white"></i>
        </button>
      </div>
    </section>
  </div>

  <!-- Search Modal -->
  <div class="search-modal fixed inset-0 z-50 bg-black/95 hidden flex-col items-center pt-20 px-4" id="search-modal">
    <button onclick="closeSearchModal()" class="absolute top-5 right-5 text-gray-400 hover:text-white text-2xl">
      <i class="fas fa-times"></i>
    </button>
    <div class="w-full max-w-2xl">
      <input type="text" id="search-input" placeholder="Search for movies, TV shows, anime..." oninput="searchTMDB()" 
        class="w-full bg-gray-800 text-white border border-gray-700 rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-netflix-red" />
    </div>
    <div class="results w-full max-w-5xl grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 mt-8 overflow-y-auto" id="search-results"></div>
  </div>

  <!-- Footer -->
  <footer class="mt-16 py-8 border-t border-gray-800">
    <div class="max-w-7xl mx-auto px-4 md:px-12">
      <p class="text-center text-gray-500 text-sm">&copy; 2025 Sage Movies. All rights reserved.</p>
      <div class="flex justify-center mt-4 space-x-6">
        <a href="#" class="text-gray-500 hover:text-gray-300 text-sm">Disclaimer</a>
        <a href="#" class="text-gray-500 hover:text-gray-300 text-sm">About Us</a>
        <a href="#" class="text-gray-500 hover:text-gray-300 text-sm">Contact Us</a>
      </div>
    </div>
  </footer>

  <script>
    function showBannerInfo() {
      if (bannerMovie) showDetails(bannerMovie);
    }

    // Navbar background on scroll
    window.addEventListener('scroll', function() {
      const navbar = document.querySelector('.navbar');
      if (window.scrollY > 50) {
        navbar.classList.add('navbar-scrolled');
      } else {
        navbar.classList.remove('navbar-scrolled');
      }
    });
  </script>
</body>
</html>
